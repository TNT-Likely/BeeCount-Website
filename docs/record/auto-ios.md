---
sidebar_position: 3
---

# iOS 自动记账

通过 iOS 快捷指令，实现支付后自动记账。

## 工作原理

1. 设置快捷指令监听支付通知
2. 支付成功后自动触发
3. 识别金额和商家信息
4. 调用蜜蜂记账完成记录

## 配置步骤

### 1. 下载快捷指令

1. 打开「快捷指令」App
2. 导入蜜蜂记账快捷指令
3. 允许运行不受信任的快捷指令

### 2. 设置自动化

1. 打开「快捷指令」然后点击「自动化」
2. 点击右上角「+」
3. 选择「创建个人自动化」
4. 选择触发条件：
   - 收到信息 - 监听银行短信
   - 收到通知 - 监听支付 App 通知

### 3. 配置触发条件

以微信支付为例：

1. 选择「App」然后选择「微信」
2. 选择「收到通知」
3. 可以设置关键词过滤

### 4. 添加操作

1. 添加「运行快捷指令」操作
2. 选择「蜜蜂记账」快捷指令
3. 关闭「运行前询问」

## 支持的触发方式

- 银行短信 - 监听消费短信，提取金额
- 微信通知 - 监听微信支付成功通知
- 支付宝通知 - 监听支付宝支付通知
- NFC 标签 - 刷卡后自动记账

## 快捷指令参数

快捷指令支持以下输入参数：

- amount - 金额
- category - 分类名称
- note - 备注
- account - 账户名称

## 手动触发

也可以手动触发快捷指令：

1. 对 Siri 说「蜜蜂记账」
2. 从快捷指令 Widget 点击
3. 从共享菜单分享文本

## 常见问题

**自动化没有触发？**

检查：
1. 是否开启了「运行前询问」（需要关闭）
2. 通知权限是否正常
3. 快捷指令是否有语法错误

**金额识别不准？**

自动化依赖正则表达式提取金额，如果格式特殊可能识别失败。可以手动调整快捷指令中的正则规则。
